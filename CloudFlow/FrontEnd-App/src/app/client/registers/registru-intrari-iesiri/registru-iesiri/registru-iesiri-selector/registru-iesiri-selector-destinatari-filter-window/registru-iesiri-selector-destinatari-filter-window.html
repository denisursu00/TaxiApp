<app-loading *ngIf="isLoading"></app-loading>

<p-dialog [(visible)]="windowVisible"
		[contentStyle]="{'max-height':'40vh'}" [style]="{'height':'auto', 'max-height':'40vh', 'width':'45vw', 'min-width':'45vw'}" 
		(onShow)="onShow()" (onHide)="onHide()">
		<p-header>
			<span>Destinatari</span>
		</p-header>
		<div class="ui-fluid">
			<div class="ui-g">
				<div class="ui-g-12 ui-sm-12 ui-md-2">
					{{'LABELS.REGISTRU_IESIRI_DESTINATAR' | translate}}:
				</div>
				<div class="ui-g-12 ui-sm-12 ui-md-10">
					<p-multiSelect 
						[options]="institutiiSelect"
						maxSelectedLabels="1"
						[resetFilterOnHide]="true"
						[(ngModel)]="selectedInstitutii"
						(onChange)="onSelectedInstitutiiChanged()"
						appendTo="body">
					</p-multiSelect>
				</div>
				<div class="ui-g-12">
					Destinatari selectati: {{selectedInstitutionList}}
				</div>
				<div class="ui-g-12 ui-sm-12 ui-md-2">
					{{'LABELS.REGISTRU_IESIRI_DESTINATAR_NOU' | translate}}:
				</div>
				<div class="ui-g-12 ui-sm-12 ui-md-10">
					<input type="text" 
					pInputText 
					[disabled]="destinatarNouDisabled"
					[(ngModel)]="destinatarNou"/>
				</div>
				<div class="ui-g-12 ui-sm-12 ui-md-2">
					{{'LABELS.REGISTRU_IESIRI_DEPARTAMENT' | translate}}:
				</div>
				<div class="ui-g-12 ui-sm-12 ui-md-10">
					<input type="text" 
					pInputText 
					[(ngModel)]="departament"/>
				</div>
				<div class="ui-g-12 ui-sm-12 ui-md-2">
					{{'LABELS.REGISTRU_IESIRI_NR_INREGISTRARE' | translate}}:
				</div>
				<div class="ui-g-12 ui-sm-12 ui-md-10">
					<input type="text" 
					pInputText 
					pKeyFilter="num"
					[(ngModel)]="numarInregistrare"/>
				</div>
				<div class="ui-g-12 ui-sm-12 ui-md-2">
					{{'LABELS.REGISTRU_IESIRI_DATA_INREGISTRARE' | translate}}:
				</div>
				<div class="ui-g-12 ui-sm-12 ui-md-10">
					<p-calendar 
						[monthNavigator]="true" 
						[yearNavigator]="true"
						[dateFormat]="dateFormat"
						showButtonBar="true"
						[(ngModel)]="dataInregistrare"
						appendTo="body">
					</p-calendar>
				</div>
				<div class="ui-g-12 ui-sm-12 ui-md-2">
					{{'LABELS.COMISII_SAU_GL' | translate}}
				</div>
				<div class="ui-g-12 ui-sm-12 ui-md-10">
					<app-nomenclator-value-field
						[(ngModel)]="commiteeWgNomenclatorValue">
					</app-nomenclator-value-field>
				</div>
				<div class="ui-g-12 ui-sm-12 ui-md-2">
					{{'LABELS.REGISTRU_IESIRI_OBSERVATII' | translate}}
				</div>
				<div class="ui-g-12 ui-sm-12 ui-md-10">
					<input type="text" 
					pInputText 
					[(ngModel)]="observatii"/>
				</div>
			</div>
		</div>
		<p-footer>
			<p-button (onClick)="onClearAllAction($event)" [label]="'LABELS.RESET' | translate"></p-button>
			<p-button (onClick)="onFilterAction($event)" [label]="'LABELS.REGISTRU_IESIRI_FILTREAZA_DESTINATARI' | translate"></p-button>
		</p-footer>
</p-dialog>