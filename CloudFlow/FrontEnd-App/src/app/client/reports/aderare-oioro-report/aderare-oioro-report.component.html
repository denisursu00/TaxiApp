<app-loading *ngIf="loading"></app-loading>
<p-panel [toggleable]="true">
    <p-header>
         {{'LABELS.REPORT_ADERARE_OIORO' | translate}}
    </p-header>
    <form [formGroup]="formGroup">		
		<div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid">
			<div class="ui-grid-row">
				<div class="ui-grid-col-3">
					{{'LABELS.REPORT_ADERARE_OIORO_FILTER_AN' | translate}}:
				</div>
				<div class="ui-grid-col-9">
					<p-multiSelect 
						[options]="anSelectItems" 					
						[style]="{'width':'100%'}" 
						formControlName="an"
						[defaultLabel]="'LABELS.SELECT' | translate"
						showClear="true">
					</p-multiSelect>
				</div>
			</div>						
			<div class="ui-grid-row">
				<div class="ui-grid-col-3">
					{{'LABELS.REPORT_ADERARE_OIORO_FILTER_ORGANISM' | translate}}:
				</div>
				<div class="ui-grid-col-9">
					<p-multiSelect 
						[options]="organismSelectItems" 
						[style]="{'width':'100%'}" 
						formControlName="organism"
						showClear="true"
						[defaultLabel]="'LABELS.SELECT' | translate" >
					</p-multiSelect>					
				</div>
			</div>
			<div class="ui-grid-row">
				<div class="ui-grid-col-3">
					{{'LABELS.REPORT_ADERARE_OIORO_FILTER_ABREVIERE' | translate}}:
				</div>
				<div class="ui-grid-col-9">
					<input
						type="text"
						formControlName="abreviere"
					pInputText/>
				</div>
			</div>
			<div class="ui-grid-row">
				<div class="ui-grid-col-3">
					{{'LABELS.REPORT_ADERARE_OIORO_FILTER_COMITET' | translate}}:
				</div>
				<div class="ui-grid-col-9">
					<p-multiSelect 
						[options]="comitetSelectItems" 
						[style]="{'width':'100%'}" 
						formControlName="comitet"
						[defaultLabel]="'LABELS.SELECT' | translate"
						showClear="true">
					</p-multiSelect>
				</div>
			</div>
			<div class="ui-grid-row">
				<div class="ui-grid-col-3">
					{{'LABELS.REPORT_ADERARE_OIORO_FILTER_INSTITUTIE' | translate}}:
				</div>
				<div class="ui-grid-col-9">
					<p-multiSelect 
						[options]="institutieSelectItems" 
						[style]="{'width':'100%'}" 
						formControlName="institutie"
						[defaultLabel]="'LABELS.SELECT' | translate"
						showClear="true">
					</p-multiSelect>
				</div>
			</div>
			<div class="ui-grid-row">
				<div class="ui-grid-col-3">
					{{'LABELS.REPORT_ADERARE_OIORO_FILTER_REPREZENTANT' | translate}}:
				</div>
				<div class="ui-grid-col-9">
					<p-multiSelect 
						[options]="reprezentantSelectItems" 
						[style]="{'width':'100%'}" 
						formControlName="reprezentant"
						[defaultLabel]="'LABELS.SELECT' | translate"
						showClear="true">
					</p-multiSelect>
				</div>
			</div>	
			<div class="ui-grid-row">
				<div class="ui-grid-col-3">
					{{'LABELS.REPORT_ADERARE_OIORO_FILTER_FUNCTIE' | translate}}:
				</div>
				<div class="ui-grid-col-9">
					<input 
						type="text"
						formControlName="functie"
					pInputText/>
				</div>
			</div>	
			<div class="ui-grid-row">
				<div class="ui-grid-col-3">
					{{'LABELS.REPORT_ADERARE_OIORO_FILTER_COORDONATOR_ARB' | translate}}:
				</div>
				<div class="ui-grid-col-9">
					<p-multiSelect 
						[options]="coordonatorArbSelectItems" 
						[style]="{'width':'100%'}" 
						formControlName="coordonatorArb"
						[defaultLabel]="'LABELS.SELECT' | translate"
						showClear="true">
					</p-multiSelect>
				</div>
			</div>				
		</div>
	</form>
	<p-footer>
		<p-button [label]="'LABELS.REPORT_VIEW' | translate" (onClick)="onView()"></p-button>
		<p-button [label]="'LABELS.EXPORT_CSV' | translate" (onClick)="exportCSV()"></p-button>
	</p-footer>
</p-panel>
<p-table *ngIf="reportVisible"
		[value]="reportRows"  
		[columns]="columns"
		[selectionMode]="'multiple'"
		[responsive]="true"
		[scrollable]="true"		
		[resizableColumns]="true"
		[loading]="loading"		
		[style]="{'margin-top':'5px'}"
		[scrollable]="true" 
		[scrollHeight]="scrollHeight">
	<ng-template pTemplate="colgroup" let-columns>
		<colgroup>
			<col style="width: 50px">
			<col style="width: 70px">
			<col style="width: 250px">
			<col style="width: 100px">
			<col style="width: 250px">
			<col style="width: 250px">
			<col style="width: 250px">
			<col style="width: 250px">
			<col style="width: 250px">
			<col style="width: 100px">
		</colgroup>
	</ng-template>
	<ng-template pTemplate="header">
			<tr>
				<th >{{"LABELS.NO_CRT" | translate}}</th>
				<th pResizableColumn >{{"LABELS.REPORT_ADERARE_OIORO_AN" | translate}}</th>
				<th pResizableColumn >{{"LABELS.REPORT_ADERARE_OIORO_ORGANISM" | translate}}</th>
				<th pResizableColumn >{{"LABELS.REPORT_ADERARE_OIORO_ABREVIERE" | translate}}</th>
				<th pResizableColumn >{{"LABELS.REPORT_ADERARE_OIORO_COMITET" | translate}}</th>
				<th pResizableColumn >{{"LABELS.REPORT_ADERARE_OIORO_INSTITUTIE" | translate}}</th>
				<th pResizableColumn >{{"LABELS.REPORT_ADERARE_OIORO_REPREZENTANT" | translate}}</th>
				<th pResizableColumn >{{"LABELS.REPORT_ADERARE_OIORO_FUNCTIE" | translate}}</th>
				<th pResizableColumn >{{"LABELS.REPORT_ADERARE_OIORO_COORDONATOR_ARB" | translate}}</th>
				<th pResizableColumn >{{"LABELS.REPORT_ADERARE_OIORO_NR_DEPLASARI_BUGETATE" | translate}}</th>
			</tr>
	</ng-template>
	<ng-template pTemplate="body" let-row let-index="rowIndex">
			<tr [pSelectableRow]="row">	
				<td >{{index + 1}}</td>					
				<td>{{row.an}}</td>				
				<td>{{row.organism}}</td>				
				<td>{{row.abreviere}}</td>				
				<td>{{row.comitet}}</td>				
				<td>{{row.institutie}}</td>					
				<td>{{row.reprezentant}}</td>				
				<td>{{row.functie}}</td>				
				<td>{{row.coordonatorArb}}</td>		
				<td>{{row.nrDeplasariBugetate}}</td>				
			</tr>
	</ng-template>
	<ng-template pTemplate="emptymessage" let-columns>
        <tr>
            <td [attr.colspan]="9">
                {{"LABELS.NO_RECORDS_FOUND" | translate}}
            </td>
        </tr>
    </ng-template>
</p-table>