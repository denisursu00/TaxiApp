<div class="ui-g ui-g-nopad">
    <div class="ui-g-5 ui-g-nopad">
		<div class="ui-g-12 ui-g-nopad">
			<div class="ui-g-12">
				<p-button [label]="'LABELS.ADD' | translate" (onClick)="onAddAction($event)"></p-button>
				<p-button [label]="'LABELS.DELETE' | translate" (onClick)="onDeleteAction($event)" [disabled]="!deleteActionEnabled"></p-button>
			</div>
			<div class="ui-g-12 ui-g-nopad">
				<p-table [(selection)]="selectedMetadataDefinition"
						[value]="metadataDefinitions"  
						[selectionMode]="'single'"
						[responsive]="true"
						[resizableColumns]="true"
						columnResizeMode="expand"
						[scrollable]="true"
						scrollHeight="350px"
						(onRowSelect)="onMetadataDefinitonSelected($event)"
						(onRowUnselect)="onMetadataDefinitonUnselected($event)">
					<ng-template pTemplate="colgroup" let-columns>
						<colgroup>
							<col style="width: 25%">
							<col style="width: 25%">
							<col style="width: 25%">
							<col style="width: 25%">
						</colgroup>
					</ng-template>
					<ng-template pTemplate="header" let-columns>
						<tr>								
							<th pResizableColumn pSortableColumn="name">
								{{"LABELS.NAME" | translate}}
								<p-sortIcon field="name"></p-sortIcon>
							</th>
							<th pResizableColumn pSortableColumn="label">
								{{"LABELS.LABEL" | translate}}
								<p-sortIcon field="label"></p-sortIcon>
							</th>
							<th pResizableColumn pSortableColumn="orderNumber">
								{{"LABELS.ORDER_NUMBER" | translate}}
								<p-sortIcon field="orderNumber"></p-sortIcon>
							</th>
							<th pResizableColumn pSortableColumn="type">
								{{"LABELS.TYPE" | translate}}
								<p-sortIcon field="type"></p-sortIcon>
							</th>
						</tr>
					</ng-template>
					<ng-template pTemplate="body" let-metadataDefinition>
						<tr [pSelectableRow]="metadataDefinition">						
							<td class="ui-resizable-column">{{metadataDefinition.name}}</td>
							<td class="ui-resizable-column">{{metadataDefinition.label}}</td>
							<td class="ui-resizable-column">{{metadataDefinition.orderNumber}}</td>
							<td class="ui-resizable-column">{{'LABELS.' + metadataTypeLabelCodeByTypeMap[metadataDefinition.type] | translate}}</td>
						</tr>
					</ng-template>
				</p-table>
			</div>
		</div>
	</div>
    <div class="ui-g-7">
		<app-metadata-definition *ngIf="metadataDefinitionVisible"
			[usageMode]="metadataDefinitionUsageMode"
			[inputData]="metadataDefinitionInputData"
			(dataSaved)="onMetadataDefinitionDataSaved($event)"
			(canceled)="onMetadataDefinitionCanceled($event)">
		</app-metadata-definition>
	</div>
</div>

<app-confirmation-window *ngIf="confirmationWindow.visible"
	[messages]="confirmationWindow.messages"
	[confirmationCallback]="confirmationWindow.callback">
</app-confirmation-window>