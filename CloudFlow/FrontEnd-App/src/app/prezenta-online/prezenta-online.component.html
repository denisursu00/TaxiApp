<app-loading *ngIf="loading"></app-loading>


<p-table #documente
        [value]="documentePrezenta"  
        [(selection)]="selectedDocumentPrezenta"
		selectionMode="single"
		[scrollable]="true" 
        [scrollHeight]="scrollHeight"
        (onRowSelect)="onRowSelect()" 
        (onRowUnselect)="onRowUnselect()">
	<ng-template pTemplate="colgroup">
		<colgroup *ngIf="!isMobileDevices">
			<col style="width: 20%">
			<col style="width: 50%">
			<col style="width: 15%">
			<col style="width: 15%">
        </colgroup>
        <colgroup *ngIf="isMobileDevices">
            <col style="width: 100px">
            <col style="width: 150px">
            <col style="width: 70px">
            <col style="width: 70px">
        </colgroup>
	</ng-template>
	<ng-template pTemplate="header">
        <tr>
            <th [pSortableColumn]="'comisieGl'">
                {{"LABELS.PREZENTA_ONLINE_COMISIE_GL" | translate}}
                <p-sortIcon [field]="'comisieGl'"></p-sortIcon>
            </th>
            <th [pSortableColumn]="'numeDocument'">
                {{"LABELS.PREZENTA_ONLINE_NUME_DOCUMENT" | translate}}
                <p-sortIcon [field]="'numeDocument'"></p-sortIcon>
            </th>
            <th [pSortableColumn]="'dataInceput'">
                {{"LABELS.PREZENTA_ONLINE_DATA_INCEPUT" | translate}}
                <p-sortIcon [field]="'dataInceput'"></p-sortIcon>
            </th>
            <th [pSortableColumn]="'dataSfarsit'">
                {{"LABELS.PREZENTA_ONLINE_DATA_SFARSIT" | translate}}
                <p-sortIcon [field]="'dataSfarsit'"></p-sortIcon>
            </th>
        </tr>
        <tr>
            <th>
                <input pInputText type="text" (input)="documente.filter($event.target.value, 'comisieGl', 'contains')" style="width:100%">
            </th>
            <th>
                <input pInputText type="text" (input)="documente.filter($event.target.value, 'numeDocument', 'contains')" style="width:100%">
            </th>
            <th>
                <input pInputText type="text" (input)="documente.filter($event.target.value, 'dataInceputForDisplay', 'contains')" style="width:100%">
            </th>
            <th>
                <input pInputText type="text" (input)="documente.filter($event.target.value, 'dataSfarsitForDisplay', 'contains')" style="width:100%">
            </th>
        </tr>
	</ng-template>
	<ng-template pTemplate="body" let-row let-index="rowIndex">
			<tr [pSelectableRow]="row"
                    [style.background-color]="row.finalizata ? 'green' : index%2==0 ? 'white' : '#f2f2f2'"
                    [style.color]="row.finalizata ? 'white' : 'black'">		
				<td>{{row.comisieGl}}</td>	
				<td>{{row.numeDocument}}</td>	
				<td>{{row.dataInceputForDisplay}}</td>		
				<td>{{row.dataSfarsitForDisplay}}</td>		
			</tr>
	</ng-template>
	<ng-template pTemplate="emptymessage" let-columns>
        <tr>
            <td [attr.colspan]="4">
                {{"LABELS.NO_RECORDS_FOUND" | translate}}
            </td>
        </tr>
    </ng-template>
</p-table>

<app-prezenta-online-window  
    *ngIf="prezentaOnlineWindowVisible"
    [inputData]="prezentaOnlineWindowInputData"
    (windowClosed)="onPezentaOnlineWindowClose()"
    (participantiImportati)="onParticipantiImportati()">
</app-prezenta-online-window>