<app-loading *ngIf="loading"></app-loading>
<div class="ui-g">
	<div class="ui-g-12">
		<p-button [label]="'LABELS.ADD' | translate" (onClick)="onAddRide()"></p-button>
		<p-button [label]="'LABELS.EDIT' | translate" [disabled]="editButtonDisabled" (onClick)="onEditRide()"></p-button>
	</div>
	<div class="ui-g-12" *ngIf="tableVisible">
		<p-table [value]="rides" selectionMode="single" [(selection)]="selectedRide"
				[scrollable]="true" [scrollHeight]="scrollHeight" [columns]="columns" 
				(onRowSelect)="onRideSelected($event)" (onRowUnselect)="onRideUnselected($event)" autoLayout="true">
			<ng-template pTemplate="colgroup" let-columns>
				<colgroup>
					<col *ngFor="let col of columns" style="width: 200px;">
				</colgroup>
			</ng-template>
			<ng-template pTemplate="header" let-columns>
				<tr>
					<th *ngFor="let col of columns">
						{{col.header}}
					</th>
				</tr>
			</ng-template>
			<ng-template pTemplate="body" let-ride>
				<tr [pSelectableRow]="ride">
					<td>{{ride.id}}</td>
					<td>{{getClientNameByIdForDisplay(ride.clientId)}}</td>
					<td>{{ride.startAdress}}</td>
					<td>{{ride.observations}}</td>
				</tr>
			</ng-template>
      		<ng-template pTemplate="emptymessage">
				<tr>
					<td [attr.colspan]="4" style="text-align: center;">
            			{{'LABELS.NO_RECORDS_FOUND' | translate}}
          			</td>
				</tr>
			</ng-template>
		</p-table>
	</div>
</div>
	
<app-ride-window *ngIf="rideWindowVisible" [mode]="rideWindowMode" [rideId]="rideWindowRideId"
		(windowClosed)="onRideWindowClosed()" (dataSaved)="onRideWindowDataSaved()">
</app-ride-window>